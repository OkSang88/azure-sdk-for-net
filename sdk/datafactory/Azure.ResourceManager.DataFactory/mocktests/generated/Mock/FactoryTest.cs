// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.

// <auto-generated/>

#nullable disable

using System;
using System.Collections.Generic;
using System.Net;
using System.Threading.Tasks;
using Azure.Core.TestFramework;
using Azure.ResourceManager.TestFramework;
using DataFactoryManagementClient;
using DataFactoryManagementClient.Models;

namespace DataFactoryManagementClient.Tests.Mock
{
    /// <summary> Test for Factory. </summary>
    public partial class FactoryMockTests : MockTestBase
    {
        public FactoryMockTests(bool isAsync) : base(isAsync, RecordedTestMode.Record)
        {
            ServicePointManager.ServerCertificateValidationCallback += (sender, cert, chain, sslPolicyErrors) => true;
            Environment.SetEnvironmentVariable("RESOURCE_MANAGER_URL", $"https://localhost:8443");
        }

        [RecordedTest]
        public async Task Get()
        {
            // Example: Factories_Get
            var factoryId = DataFactoryManagementClient.Factory.CreateResourceIdentifier("00000000-0000-0000-0000-000000000000", "exampleResourceGroup", "exampleFactoryName");
            var factory = GetArmClient().GetFactory(factoryId);
            string ifNoneMatch = null;

            await factory.GetAsync(ifNoneMatch);
        }

        [RecordedTest]
        public async Task Delete()
        {
            // Example: Factories_Delete
            var factoryId = DataFactoryManagementClient.Factory.CreateResourceIdentifier("00000000-0000-0000-0000-000000000000", "exampleResourceGroup", "exampleFactoryName");
            var factory = GetArmClient().GetFactory(factoryId);

            await factory.DeleteAsync(true);
        }

        [RecordedTest]
        public async Task Update()
        {
            // Example: Factories_Update
            var factoryId = DataFactoryManagementClient.Factory.CreateResourceIdentifier("00000000-0000-0000-0000-000000000000", "exampleResourceGroup", "exampleFactoryName");
            var factory = GetArmClient().GetFactory(factoryId);
            DataFactoryManagementClient.Models.FactoryUpdateParameters factoryUpdateParameters = new DataFactoryManagementClient.Models.FactoryUpdateParameters();

            await factory.UpdateAsync(factoryUpdateParameters);
        }

        [RecordedTest]
        public async Task GetGitHubAccessToken()
        {
            // Example: Factories_GetGitHubAccessToken
            var factoryId = DataFactoryManagementClient.Factory.CreateResourceIdentifier("00000000-0000-0000-0000-000000000000", "exampleResourceGroup", "exampleFactoryName");
            var factory = GetArmClient().GetFactory(factoryId);
            DataFactoryManagementClient.Models.GitHubAccessTokenRequest gitHubAccessTokenRequest = new DataFactoryManagementClient.Models.GitHubAccessTokenRequest(gitHubAccessCode: "some", gitHubAccessTokenBaseUrl: "some")
            {
                GitHubClientId = "some",
            };

            await factory.GetGitHubAccessTokenAsync(gitHubAccessTokenRequest);
        }

        [RecordedTest]
        public async Task GetDataPlaneAccess()
        {
            // Example: Factories_GetDataPlaneAccess
            var factoryId = DataFactoryManagementClient.Factory.CreateResourceIdentifier("00000000-0000-0000-0000-000000000000", "exampleResourceGroup", "exampleFactoryName");
            var factory = GetArmClient().GetFactory(factoryId);
            DataFactoryManagementClient.Models.UserAccessPolicy policy = new DataFactoryManagementClient.Models.UserAccessPolicy()
            {
                Permissions = "r",
                AccessResourcePath = "",
                ProfileName = "DefaultProfile",
                StartTime = "2018-11-10T02:46:20.2659347Z",
                ExpireTime = "2018-11-10T09:46:20.2659347Z",
            };

            await factory.GetDataPlaneAccessAsync(policy);
        }

        [RecordedTest]
        public async Task GetFeatureValueByFactoryExposureControl()
        {
            // Example: ExposureControl_GetFeatureValueByFactory
            var factoryId = DataFactoryManagementClient.Factory.CreateResourceIdentifier("00000000-0000-0000-0000-000000000000", "exampleResourceGroup", "exampleFactoryName");
            var factory = GetArmClient().GetFactory(factoryId);
            DataFactoryManagementClient.Models.ExposureControlRequest exposureControlRequest = new DataFactoryManagementClient.Models.ExposureControlRequest()
            {
                FeatureName = "ADFIntegrationRuntimeSharingRbac",
                FeatureType = "Feature",
            };

            await factory.GetFeatureValueByFactoryExposureControlAsync(exposureControlRequest);
        }

        [RecordedTest]
        public async Task QueryFeatureValuesByFactoryExposureControl()
        {
            // Example: ExposureControl_QueryFeatureValuesByFactory
            var factoryId = DataFactoryManagementClient.Factory.CreateResourceIdentifier("00000000-0000-0000-0000-000000000000", "exampleResourceGroup", "exampleFactoryName");
            var factory = GetArmClient().GetFactory(factoryId);
            DataFactoryManagementClient.Models.ExposureControlBatchRequest exposureControlBatchRequest = new DataFactoryManagementClient.Models.ExposureControlBatchRequest(exposureControlRequests: new List<DataFactoryManagementClient.Models.ExposureControlRequest>()
{
new DataFactoryManagementClient.Models.ExposureControlRequest()
{
FeatureName = "ADFIntegrationRuntimeSharingRbac", FeatureType = "Feature", },new DataFactoryManagementClient.Models.ExposureControlRequest()
{
FeatureName = "ADFSampleFeature", FeatureType = "Feature", },});

            await factory.QueryFeatureValuesByFactoryExposureControlAsync(exposureControlBatchRequest);
        }

        [RecordedTest]
        public async Task QueryPipelineRuns()
        {
            // Example: PipelineRuns_QueryByFactory
            var factoryId = DataFactoryManagementClient.Factory.CreateResourceIdentifier("00000000-0000-0000-0000-000000000000", "exampleResourceGroup", "exampleFactoryName");
            var factory = GetArmClient().GetFactory(factoryId);
            DataFactoryManagementClient.Models.RunFilterParameters filterParameters = new DataFactoryManagementClient.Models.RunFilterParameters(lastUpdatedAfter: DateTimeOffset.Parse("2018-06-16T00:36:44.3345758Z"), lastUpdatedBefore: DateTimeOffset.Parse("2018-06-16T00:49:48.3686473Z"));

            await foreach (var _ in factory.QueryPipelineRunsAsync(filterParameters))
            {
            }
        }

        [RecordedTest]
        public async Task GetPipelineRun()
        {
            // Example: PipelineRuns_Get
            var factoryId = DataFactoryManagementClient.Factory.CreateResourceIdentifier("00000000-0000-0000-0000-000000000000", "exampleResourceGroup", "exampleFactoryName");
            var factory = GetArmClient().GetFactory(factoryId);
            string runId = "2f7fdb90-5df1-4b8e-ac2f-064cfa58202b";

            await factory.GetPipelineRunAsync(runId);
        }

        [RecordedTest]
        public async Task CancelPipelineRun()
        {
            // Example: PipelineRuns_Cancel
            var factoryId = DataFactoryManagementClient.Factory.CreateResourceIdentifier("00000000-0000-0000-0000-000000000000", "exampleResourceGroup", "exampleFactoryName");
            var factory = GetArmClient().GetFactory(factoryId);
            string runId = "16ac5348-ff82-4f95-a80d-638c1d47b721";
            bool? isRecursive = null;

            await factory.CancelPipelineRunAsync(runId, isRecursive);
        }

        [RecordedTest]
        public async Task QueryByPipelineRunActivityRuns()
        {
            // Example: ActivityRuns_QueryByPipelineRun
            var factoryId = DataFactoryManagementClient.Factory.CreateResourceIdentifier("00000000-0000-0000-0000-000000000000", "exampleResourceGroup", "exampleFactoryName");
            var factory = GetArmClient().GetFactory(factoryId);
            string runId = "2f7fdb90-5df1-4b8e-ac2f-064cfa58202b";
            DataFactoryManagementClient.Models.RunFilterParameters filterParameters = new DataFactoryManagementClient.Models.RunFilterParameters(lastUpdatedAfter: DateTimeOffset.Parse("2018-06-16T00:36:44.3345758Z"), lastUpdatedBefore: DateTimeOffset.Parse("2018-06-16T00:49:48.3686473Z"));

            await foreach (var _ in factory.QueryByPipelineRunActivityRunsAsync(runId, filterParameters))
            {
            }
        }

        [RecordedTest]
        public async Task QueryTriggers()
        {
            // Example: Triggers_QueryByFactory
            var factoryId = DataFactoryManagementClient.Factory.CreateResourceIdentifier("00000000-0000-0000-0000-000000000000", "exampleResourceGroup", "exampleFactoryName");
            var factory = GetArmClient().GetFactory(factoryId);
            DataFactoryManagementClient.Models.TriggerFilterParameters filterParameters = new DataFactoryManagementClient.Models.TriggerFilterParameters()
            {
                ParentTriggerName = "exampleTrigger",
            };

            await foreach (var _ in factory.QueryTriggersAsync(filterParameters))
            {
            }
        }

        [RecordedTest]
        public async Task QueryTriggerRuns()
        {
            // Example: TriggerRuns_QueryByFactory
            var factoryId = DataFactoryManagementClient.Factory.CreateResourceIdentifier("00000000-0000-0000-0000-000000000000", "exampleResourceGroup", "exampleFactoryName");
            var factory = GetArmClient().GetFactory(factoryId);
            DataFactoryManagementClient.Models.RunFilterParameters filterParameters = new DataFactoryManagementClient.Models.RunFilterParameters(lastUpdatedAfter: DateTimeOffset.Parse("2018-06-16T00:36:44.3345758Z"), lastUpdatedBefore: DateTimeOffset.Parse("2018-06-16T00:49:48.3686473Z"));

            await foreach (var _ in factory.QueryTriggerRunsAsync(filterParameters))
            {
            }
        }

        [RecordedTest]
        public async Task CreateDataFlowDebugSession()
        {
            // Example: DataFlowDebugSession_Create
            var factoryId = DataFactoryManagementClient.Factory.CreateResourceIdentifier("00000000-0000-0000-0000-000000000000", "exampleResourceGroup", "exampleFactoryName");
            var factory = GetArmClient().GetFactory(factoryId);
            DataFactoryManagementClient.Models.CreateDataFlowDebugSessionRequest request = new DataFactoryManagementClient.Models.CreateDataFlowDebugSessionRequest()
            {
                TimeToLive = 60,
                IntegrationRuntime = new DataFactoryManagementClient.Models.IntegrationRuntimeDebugResource(properties: new DataFactoryManagementClient.Models.ManagedIntegrationRuntime()
                {
                    ComputeProperties = new DataFactoryManagementClient.Models.IntegrationRuntimeComputeProperties()
                    {
                        Location = "AutoResolve",
                        DataFlowProperties = new DataFactoryManagementClient.Models.IntegrationRuntimeDataFlowProperties()
                        {
                            ComputeType = new DataFactoryManagementClient.Models.DataFlowComputeType("General"),
                            CoreCount = 48,
                            TimeToLive = 10,
                        },
                    },
                    Type = new DataFactoryManagementClient.Models.IntegrationRuntimeType("Managed"),
                })
                {
                    Name = "ir1",
                },
            };

            await factory.CreateDataFlowDebugSessionAsync(true, request);
        }

        [RecordedTest]
        public async Task QueryDataFlowDebugSessions()
        {
            // Example: DataFlowDebugSession_QueryByFactory
            var factoryId = DataFactoryManagementClient.Factory.CreateResourceIdentifier("00000000-0000-0000-0000-000000000000", "exampleResourceGroup", "exampleFactoryName");
            var factory = GetArmClient().GetFactory(factoryId);

            await foreach (var _ in factory.QueryDataFlowDebugSessionsAsync())
            {
            }
        }

        [RecordedTest]
        public async Task AddDataFlowDataFlowDebugSession()
        {
            // Example: DataFlowDebugSession_AddDataFlow
            var factoryId = DataFactoryManagementClient.Factory.CreateResourceIdentifier("00000000-0000-0000-0000-000000000000", "exampleResourceGroup", "exampleFactoryName");
            var factory = GetArmClient().GetFactory(factoryId);
            DataFactoryManagementClient.Models.DataFlowDebugPackage request = new DataFactoryManagementClient.Models.DataFlowDebugPackage()
            {
                SessionId = "f06ed247-9d07-49b2-b05e-2cb4a2fc871e",
                DataFlow = new DataFactoryManagementClient.Models.DataFlowDebugResource(properties: new DataFactoryManagementClient.Models.MappingDataFlow()
                {
                    Script = "\n\nsource(output(\n\t\tColumn_1 as string\n\t),\n\tallowSchemaDrift: true,\n\tvalidateSchema: false) ~> source1",
                    Type = "MappingDataFlow",
                })
                {
                    Name = "dataflow1",
                },
                DebugSettings = new DataFactoryManagementClient.Models.DataFlowDebugPackageDebugSettings()
                {
                    DatasetParameters = new Dictionary<string, object>()
                    {
                        ["Movies"] = new Dictionary<string, object>()
                        {
                            ["path"] = "abc",
                        }
            ,
                        ["Output"] = new Dictionary<string, object>()
                        {
                            ["time"] = "def",
                        }
            ,
                    }
            ,
                },
            };

            await factory.AddDataFlowDataFlowDebugSessionAsync(request);
        }

        [RecordedTest]
        public async Task DeleteDataFlowDebugSession()
        {
            // Example: DataFlowDebugSession_Delete
            var factoryId = DataFactoryManagementClient.Factory.CreateResourceIdentifier("00000000-0000-0000-0000-000000000000", "exampleResourceGroup", "exampleFactoryName");
            var factory = GetArmClient().GetFactory(factoryId);
            DataFactoryManagementClient.Models.DeleteDataFlowDebugSessionRequest request = new DataFactoryManagementClient.Models.DeleteDataFlowDebugSessionRequest()
            {
                SessionId = "91fb57e0-8292-47be-89ff-c8f2d2bb2a7e",
            };

            await factory.DeleteDataFlowDebugSessionAsync(request);
        }

        [RecordedTest]
        public async Task ExecuteCommandDataFlowDebugSession()
        {
            // Example: DataFlowDebugSession_ExecuteCommand
            var factoryId = DataFactoryManagementClient.Factory.CreateResourceIdentifier("00000000-0000-0000-0000-000000000000", "exampleResourceGroup", "exampleFactoryName");
            var factory = GetArmClient().GetFactory(factoryId);
            DataFactoryManagementClient.Models.DataFlowDebugCommandRequest request = new DataFactoryManagementClient.Models.DataFlowDebugCommandRequest()
            {
                SessionId = "f06ed247-9d07-49b2-b05e-2cb4a2fc871e",
                Command = new DataFactoryManagementClient.Models.DataFlowDebugCommandType("executePreviewQuery"),
                CommandPayload = new DataFactoryManagementClient.Models.DataFlowDebugCommandPayload(streamName: "source1")
                {
                    RowLimits = 100,
                },
            };

            await factory.ExecuteCommandDataFlowDebugSessionAsync(true, request);
        }

        [RecordedTest]
        public async Task GetprivateLinkResources()
        {
            // Example: Get private link resources of a site
            var factoryId = DataFactoryManagementClient.Factory.CreateResourceIdentifier("00000000-0000-0000-0000-000000000000", "exampleResourceGroup", "exampleFactoryName");
            var factory = GetArmClient().GetFactory(factoryId);

            await foreach (var _ in factory.GetprivateLinkResourcesAsync())
            {
            }
        }
    }
}
