// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.

// <auto-generated/>

#nullable disable

using System;
using System.Collections.Generic;
using System.Net;
using System.Threading.Tasks;
using Azure.Core.TestFramework;
using Azure.ResourceManager;
using Azure.ResourceManager.Resources;
using Azure.ResourceManager.Resources.Models;
using Azure.ResourceManager.Sql.Models;
using Azure.ResourceManager.TestFramework;

namespace Azure.ResourceManager.Sql.Tests.Mock
{
    /// <summary> Test for ManagedDatabase. </summary>
    public partial class ManagedDatabaseMockTests : MockTestBase
    {
        public ManagedDatabaseMockTests(bool isAsync) : base(isAsync, RecordedTestMode.Record)
        {
            ServicePointManager.ServerCertificateValidationCallback += (sender, cert, chain, sslPolicyErrors) => true;
            Environment.SetEnvironmentVariable("RESOURCE_MANAGER_URL", $"https://localhost:8443");
        }

        [RecordedTest]
        public async Task GetAsync()
        {
            // Example: Gets a managed database
            var managedDatabase = GetArmClient().GetManagedDatabase(new ResourceIdentifier("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/Test1/providers/Microsoft.Sql/managedInstances/managedInstance/databases/managedDatabase"));

            await managedDatabase.GetAsync();
        }

        [RecordedTest]
        public async Task DeleteAsync()
        {
            // Example: Delete managed database
            var managedDatabase = GetArmClient().GetManagedDatabase(new ResourceIdentifier("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/Default-SQL-SouthEastAsia/providers/Microsoft.Sql/managedInstances/managedInstance/databases/testdb"));

            await managedDatabase.DeleteAsync();
        }

        [RecordedTest]
        public async Task UpdateAsync()
        {
            // Example: Updates a managed database with maximal properties
            var managedDatabase = GetArmClient().GetManagedDatabase(new ResourceIdentifier("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/Default-SQL-SouthEastAsia/providers/Microsoft.Sql/managedInstances/managedInstance/databases/testdb"));
            Sql.Models.ManagedDatabaseUpdate parameters = new Sql.Models.ManagedDatabaseUpdate();

            await managedDatabase.UpdateAsync(parameters);
        }

        [RecordedTest]
        public async Task UpdateAsync2()
        {
            // Example: Updates a managed database with minimal properties
            var managedDatabase = GetArmClient().GetManagedDatabase(new ResourceIdentifier("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/Default-SQL-SouthEastAsia/providers/Microsoft.Sql/managedInstances/managedInstance/databases/testdb"));
            Sql.Models.ManagedDatabaseUpdate parameters = new Sql.Models.ManagedDatabaseUpdate();

            await managedDatabase.UpdateAsync(parameters);
        }

        [RecordedTest]
        public void GetManagedDatabaseColumnsByDatabaseAsync()
        {
            // Example: Filter managed database columns
            var managedDatabase = GetArmClient().GetManagedDatabase(new ResourceIdentifier("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/myRG/providers/Microsoft.Sql/managedInstances/serverName/databases/myDatabase"));
            IEnumerable<string> schema = new List<string>()
{
"dbo",};
            IEnumerable<string> table = new List<string>()
{
"customer","address",};
            IEnumerable<string> column = new List<string>()
{
"username",};
            IEnumerable<string> orderBy = new List<string>()
{
"schema asc","table","column desc",};
            string skiptoken = null;

            managedDatabase.GetManagedDatabaseColumnsByDatabaseAsync(schema, table, column, orderBy, skiptoken);
        }

        [RecordedTest]
        public void GetManagedDatabaseColumnsByDatabaseAsync2()
        {
            // Example: List managed database columns
            var managedDatabase = GetArmClient().GetManagedDatabase(new ResourceIdentifier("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/myRG/providers/Microsoft.Sql/managedInstances/serverName/databases/myDatabase"));
            IEnumerable<string> schema = null;
            IEnumerable<string> table = null;
            IEnumerable<string> column = null;
            IEnumerable<string> orderBy = null;
            string skiptoken = null;

            managedDatabase.GetManagedDatabaseColumnsByDatabaseAsync(schema, table, column, orderBy, skiptoken);
        }

        [RecordedTest]
        public async Task GetManagedDatabaseQueryAsync()
        {
            // Example: Obtain query properties
            var managedDatabase = GetArmClient().GetManagedDatabase(new ResourceIdentifier("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sqlcrudtest-7398/providers/Microsoft.Sql/managedInstances/sqlcrudtest-4645/databases/database_1"));
            string queryId = "42";

            await managedDatabase.GetManagedDatabaseQueryAsync(queryId);
        }

        [RecordedTest]
        public void GetQueryStatisticsAsync()
        {
            // Example: Obtain query execution statistics
            var managedDatabase = GetArmClient().GetManagedDatabase(new ResourceIdentifier("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sqlcrudtest-7398/providers/Microsoft.Sql/managedInstances/sqlcrudtest-4645/databases/database_1"));
            string queryId = "42";
            string startTime = null;
            string endTime = null;
            Sql.Models.QueryTimeGrainType? interval = null;

            managedDatabase.GetQueryStatisticsAsync(queryId, startTime, endTime, interval);
        }

        [RecordedTest]
        public void GetQueryStatisticsAsync2()
        {
            // Example: Obtain query execution statistics. Example with all request parameters.
            var managedDatabase = GetArmClient().GetManagedDatabase(new ResourceIdentifier("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sqlcrudtest-7398/providers/Microsoft.Sql/managedInstances/sqlcrudtest-4645/databases/database_1"));
            string queryId = "42";
            string startTime = "03/01/2020 16:23:09";
            string endTime = "03/11/2020 14:00:00";
            Sql.Models.QueryTimeGrainType? interval = new Sql.Models.QueryTimeGrainType("P1D");

            managedDatabase.GetQueryStatisticsAsync(queryId, startTime, endTime, interval);
        }

        [RecordedTest]
        public void GetQueryStatisticsAsync3()
        {
            // Example: Obtain query execution statistics. Minimal example with only mandatory request parameters.
            var managedDatabase = GetArmClient().GetManagedDatabase(new ResourceIdentifier("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sqlcrudtest-7398/providers/Microsoft.Sql/managedInstances/sqlcrudtest-4645/databases/database_1"));
            string queryId = "42";
            string startTime = null;
            string endTime = null;
            Sql.Models.QueryTimeGrainType? interval = new Sql.Models.QueryTimeGrainType("PT1H");

            managedDatabase.GetQueryStatisticsAsync(queryId, startTime, endTime, interval);
        }

        [RecordedTest]
        public async Task CompleteRestoreAsync()
        {
            // Example: Completes a managed database external backup restore.
            var managedDatabase = GetArmClient().GetManagedDatabase(new ResourceIdentifier("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/myRG/providers/Microsoft.Sql/managedInstances/myManagedInstanceName/databases/myDatabase"));
            Sql.Models.CompleteDatabaseRestoreDefinition parameters = new Sql.Models.CompleteDatabaseRestoreDefinition(lastBackupName: "testdb1_log4");

            await managedDatabase.CompleteRestoreAsync(parameters);
        }

        [RecordedTest]
        public void GetManagedDatabaseSecurityEventsByDatabaseAsync()
        {
            // Example: Get the managed database's security events with maximal parameters
            var managedDatabase = GetArmClient().GetManagedDatabase(new ResourceIdentifier("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/testrg/providers/Microsoft.Sql/managedInstances/testcl/databases/database1"));
            string filter = "ShowServerRecords eq true";
            int? skip = 0;
            int? top = 1;
            string skiptoken = "eyJCbG9iTmFtZURhdGVUaW1lIjoiXC9EYXRlKDE1MTIyODg4MTIwMTArMDIwMClcLyIsIkJsb2JOYW1lUm9sbG92ZXJJbmRleCI6IjAiLCJFbmREYXRlIjoiXC9EYXRlKDE1MTI0NjYyMDA1MjkpXC8iLCJJc1NraXBUb2tlblNldCI6ZmFsc2UsIklzVjJCbG9iVGltZUZvcm1hdCI6dHJ1ZSwiU2hvd1NlcnZlclJlY29yZHMiOmZhbHNlLCJTa2lwVmFsdWUiOjAsIlRha2VWYWx1ZSI6MTB9";

            managedDatabase.GetManagedDatabaseSecurityEventsByDatabaseAsync(filter, skip, top, skiptoken);
        }

        [RecordedTest]
        public void GetManagedDatabaseSecurityEventsByDatabaseAsync2()
        {
            // Example: Get the managed database's security events with minimal parameters
            var managedDatabase = GetArmClient().GetManagedDatabase(new ResourceIdentifier("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/testrg/providers/Microsoft.Sql/managedInstances/testcl/databases/database1"));
            string filter = null;
            int? skip = null;
            int? top = null;
            string skiptoken = null;

            managedDatabase.GetManagedDatabaseSecurityEventsByDatabaseAsync(filter, skip, top, skiptoken);
        }

        [RecordedTest]
        public void GetCurrentManagedDatabaseSensitivityLabelsAsync()
        {
            // Example: Gets the current sensitivity labels of a given database in a managed database
            var managedDatabase = GetArmClient().GetManagedDatabase(new ResourceIdentifier("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/myRG/providers/Microsoft.Sql/managedInstances/myManagedInstanceName/databases/myDatabase"));
            string skipToken = null;
            bool? count = null;
            string filter = null;

            managedDatabase.GetCurrentManagedDatabaseSensitivityLabelsAsync(skipToken, count, filter);
        }

        [RecordedTest]
        public async Task UpdateManagedDatabaseSensitivityLabelAsync()
        {
            // Example: Update sensitivity labels of a given database using an operations batch.
            var managedDatabase = GetArmClient().GetManagedDatabase(new ResourceIdentifier("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/myRG/providers/Microsoft.Sql/managedInstances/myManagedInstanceName/databases/myDatabase"));
            Sql.Models.SensitivityLabelUpdateList parameters = new Sql.Models.SensitivityLabelUpdateList();

            await managedDatabase.UpdateManagedDatabaseSensitivityLabelAsync(parameters);
        }

        [RecordedTest]
        public void GetRecommendedManagedDatabaseSensitivityLabelsAsync()
        {
            // Example: Gets the recommended sensitivity labels of a given database in a managed database
            var managedDatabase = GetArmClient().GetManagedDatabase(new ResourceIdentifier("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/myRG/providers/Microsoft.Sql/managedInstances/myManagedInstanceName/databases/myDatabase"));
            string skipToken = null;
            bool? includeDisabledRecommendations = null;
            string filter = null;

            managedDatabase.GetRecommendedManagedDatabaseSensitivityLabelsAsync(skipToken, includeDisabledRecommendations, filter);
        }

        [RecordedTest]
        public async Task UpdateRecommendedManagedDatabaseSensitivityLabelAsync()
        {
            // Example: Update recommended sensitivity labels of a given database using an operations batch.
            var managedDatabase = GetArmClient().GetManagedDatabase(new ResourceIdentifier("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/myRG/providers/Microsoft.Sql/managedInstances/myManagedInstanceName/databases/myDatabase"));
            Sql.Models.RecommendedSensitivityLabelUpdateList parameters = new Sql.Models.RecommendedSensitivityLabelUpdateList();

            await managedDatabase.UpdateRecommendedManagedDatabaseSensitivityLabelAsync(parameters);
        }
    }
}
