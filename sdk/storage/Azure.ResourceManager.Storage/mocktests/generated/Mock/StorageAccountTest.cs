// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.

// <auto-generated/>

#nullable disable

using System;
using System.Collections.Generic;
using System.Net;
using System.Threading.Tasks;
using Azure.Core.TestFramework;
using Azure.ResourceManager;
using Azure.ResourceManager.Resources;
using Azure.ResourceManager.Resources.Models;
using Azure.ResourceManager.Storage.Models;
using Azure.ResourceManager.TestFramework;

namespace Azure.ResourceManager.Storage.Tests.Mock
{
    /// <summary> Test for StorageAccount. </summary>
    public partial class StorageAccountMockTests : MockTestBase
    {
        public StorageAccountMockTests(bool isAsync) : base(isAsync, RecordedTestMode.Record)
        {
            ServicePointManager.ServerCertificateValidationCallback += (sender, cert, chain, sslPolicyErrors) => true;
            Environment.SetEnvironmentVariable("RESOURCE_MANAGER_URL", $"https://localhost:8443");
        }

        [RecordedTest]
        public async Task GetAsync()
        {
            // Example: StorageAccountGetProperties
            var storageAccount = GetArmClient().GetStorageAccount(new ResourceIdentifier("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/res9407/providers/Microsoft.Storage/storageAccounts/sto8596"));
            Storage.Models.StorageAccountExpand? expand = null;

            await storageAccount.GetAsync(expand);
        }

        [RecordedTest]
        public async Task GetAsync2()
        {
            // Example: StorageAccountGetPropertiesCMKEnabled
            var storageAccount = GetArmClient().GetStorageAccount(new ResourceIdentifier("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/res9407/providers/Microsoft.Storage/storageAccounts/sto8596"));
            Storage.Models.StorageAccountExpand? expand = null;

            await storageAccount.GetAsync(expand);
        }

        [RecordedTest]
        public async Task DeleteAsync()
        {
            // Example: StorageAccountDelete
            var storageAccount = GetArmClient().GetStorageAccount(new ResourceIdentifier("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/res4228/providers/Microsoft.Storage/storageAccounts/sto2434"));

            await storageAccount.DeleteAsync();
        }

        [RecordedTest]
        public async Task UpdateAsync()
        {
            // Example: StorageAccountEnableAD
            var storageAccount = GetArmClient().GetStorageAccount(new ResourceIdentifier("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/res9407/providers/Microsoft.Storage/storageAccounts/sto8596"));
            Storage.Models.StorageAccountUpdateParameters parameters = new Storage.Models.StorageAccountUpdateParameters()
            {
                AzureFilesIdentityBasedAuthentication = new Storage.Models.AzureFilesIdentityBasedAuthentication(directoryServiceOptions: new Storage.Models.DirectoryServiceOptions("AD"))
                {
                    ActiveDirectoryProperties = new Storage.Models.ActiveDirectoryProperties(domainName: "adtest.com", netBiosDomainName: "adtest.com", forestName: "adtest.com", domainGuid: "aebfc118-9fa9-4732-a21f-d98e41a77ae1", domainSid: "S-1-5-21-2400535526-2334094090-2402026252", azureStorageSid: "S-1-5-21-2400535526-2334094090-2402026252-0012"),
                },
            };

            await storageAccount.UpdateAsync(parameters);
        }

        [RecordedTest]
        public async Task UpdateAsync2()
        {
            // Example: StorageAccountEnableCMK
            var storageAccount = GetArmClient().GetStorageAccount(new ResourceIdentifier("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/res9407/providers/Microsoft.Storage/storageAccounts/sto8596"));
            Storage.Models.StorageAccountUpdateParameters parameters = new Storage.Models.StorageAccountUpdateParameters()
            {
                Encryption = new Storage.Models.Encryption(keySource: new Storage.Models.KeySource("Microsoft.Keyvault"))
                {
                    Services = new Storage.Models.EncryptionServices()
                    {
                        Blob = new Storage.Models.EncryptionService()
                        {
                            Enabled = true,
                            KeyType = new Storage.Models.KeyType("Account"),
                        },
                        File = new Storage.Models.EncryptionService()
                        {
                            Enabled = true,
                            KeyType = new Storage.Models.KeyType("Account"),
                        },
                    },
                    KeyVaultProperties = new Storage.Models.KeyVaultProperties()
                    {
                        KeyName = "wrappingKey",
                        KeyVersion = "",
                        KeyVaultUri = "https://myvault8569.vault.azure.net",
                    },
                },
            };

            await storageAccount.UpdateAsync(parameters);
        }

        [RecordedTest]
        public async Task UpdateAsync3()
        {
            // Example: StorageAccountUpdate
            var storageAccount = GetArmClient().GetStorageAccount(new ResourceIdentifier("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/res9407/providers/Microsoft.Storage/storageAccounts/sto8596"));
            Storage.Models.StorageAccountUpdateParameters parameters = new Storage.Models.StorageAccountUpdateParameters()
            {
                Encryption = new Storage.Models.Encryption(keySource: new Storage.Models.KeySource("Microsoft.Storage"))
                {
                    Services = new Storage.Models.EncryptionServices()
                    {
                        Blob = new Storage.Models.EncryptionService()
                        {
                            Enabled = true,
                            KeyType = new Storage.Models.KeyType("Account"),
                        },
                        File = new Storage.Models.EncryptionService()
                        {
                            Enabled = true,
                            KeyType = new Storage.Models.KeyType("Account"),
                        },
                    },
                },
                SasPolicy = new Storage.Models.SasPolicy(sasExpirationPeriod: "1.15:59:59", expirationAction: new Storage.Models.ExpirationAction("Log")),
                KeyPolicy = new Storage.Models.KeyPolicy(keyExpirationPeriodInDays: 20),
                NetworkRuleSet = new Storage.Models.NetworkRuleSet(defaultAction: Storage.Models.DefaultAction.Allow),
                RoutingPreference = new Storage.Models.RoutingPreference()
                {
                    RoutingChoice = new Storage.Models.RoutingChoice("MicrosoftRouting"),
                    PublishMicrosoftEndpoints = true,
                    PublishInternetEndpoints = true,
                },
                AllowBlobPublicAccess = false,
                MinimumTlsVersion = new Storage.Models.MinimumTlsVersion("TLS1_2"),
                AllowSharedKeyAccess = true,
            };

            await storageAccount.UpdateAsync(parameters);
        }

        [RecordedTest]
        public async Task UpdateAsync4()
        {
            // Example: StorageAccountUpdateUserAssignedEncryptionIdentityWithCMK
            var storageAccount = GetArmClient().GetStorageAccount(new ResourceIdentifier("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/res9101/providers/Microsoft.Storage/storageAccounts/sto4445"));
            Storage.Models.StorageAccountUpdateParameters parameters = new Storage.Models.StorageAccountUpdateParameters()
            {
                Sku = new Storage.Models.Sku(name: new Storage.Models.SkuName("Standard_LRS")),
                Identity = new Storage.Models.Identity(type: new Storage.Models.IdentityType("UserAssigned")),
                Kind = new Storage.Models.Kind("Storage"),
                Encryption = new Storage.Models.Encryption(keySource: new Storage.Models.KeySource("Microsoft.Keyvault"))
                {
                    Services = new Storage.Models.EncryptionServices()
                    {
                        Blob = new Storage.Models.EncryptionService()
                        {
                            Enabled = true,
                            KeyType = new Storage.Models.KeyType("Account"),
                        },
                        File = new Storage.Models.EncryptionService()
                        {
                            Enabled = true,
                            KeyType = new Storage.Models.KeyType("Account"),
                        },
                    },
                    KeyVaultProperties = new Storage.Models.KeyVaultProperties()
                    {
                        KeyName = "wrappingKey",
                        KeyVersion = "",
                        KeyVaultUri = "https://myvault8569.vault.azure.net",
                    },
                    EncryptionIdentity = new Storage.Models.EncryptionIdentity()
                    {
                        EncryptionUserAssignedIdentity = "/subscriptions/{subscription-id}/resourceGroups/res9101/providers/Microsoft.ManagedIdentity/userAssignedIdentities/{managed-identity-name}",
                    },
                },
            };

            await storageAccount.UpdateAsync(parameters);
        }

        [RecordedTest]
        public async Task GetKeysAsync()
        {
            // Example: StorageAccountListKeys
            var storageAccount = GetArmClient().GetStorageAccount(new ResourceIdentifier("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/res418/providers/Microsoft.Storage/storageAccounts/sto2220"));

            await storageAccount.GetKeysAsync();
        }

        [RecordedTest]
        public async Task RegenerateKeyAsync()
        {
            // Example: StorageAccountRegenerateKerbKey
            var storageAccount = GetArmClient().GetStorageAccount(new ResourceIdentifier("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/res4167/providers/Microsoft.Storage/storageAccounts/sto3539"));
            Storage.Models.StorageAccountRegenerateKeyParameters regenerateKey = new Storage.Models.StorageAccountRegenerateKeyParameters(keyName: "kerb1");

            await storageAccount.RegenerateKeyAsync(regenerateKey);
        }

        [RecordedTest]
        public async Task RegenerateKeyAsync2()
        {
            // Example: StorageAccountRegenerateKey
            var storageAccount = GetArmClient().GetStorageAccount(new ResourceIdentifier("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/res4167/providers/Microsoft.Storage/storageAccounts/sto3539"));
            Storage.Models.StorageAccountRegenerateKeyParameters regenerateKey = new Storage.Models.StorageAccountRegenerateKeyParameters(keyName: "key2");

            await storageAccount.RegenerateKeyAsync(regenerateKey);
        }

        [RecordedTest]
        public async Task GetAccountSASAsync()
        {
            // Example: StorageAccountListAccountSAS
            var storageAccount = GetArmClient().GetStorageAccount(new ResourceIdentifier("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/res7985/providers/Microsoft.Storage/storageAccounts/sto8588"));
            Storage.Models.AccountSasParameters parameters = new Storage.Models.AccountSasParameters(services: new Storage.Models.Services("b"), resourceTypes: new Storage.Models.SignedResourceTypes("s"), permissions: new Storage.Models.Permissions("r"), sharedAccessExpiryTime: DateTimeOffset.Parse("2017-05-24T11:42:03.1567373Z"))
            {
                Protocols = Storage.Models.HttpProtocol.HttpsHttp,
                SharedAccessStartTime = DateTimeOffset.Parse("2017-05-24T10:42:03.1567373Z"),
                KeyToSign = "key1",
            };

            await storageAccount.GetAccountSASAsync(parameters);
        }

        [RecordedTest]
        public async Task GetServiceSASAsync()
        {
            // Example: StorageAccountListServiceSAS
            var storageAccount = GetArmClient().GetStorageAccount(new ResourceIdentifier("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/res7439/providers/Microsoft.Storage/storageAccounts/sto1299"));
            Storage.Models.ServiceSasParameters parameters = new Storage.Models.ServiceSasParameters(canonicalizedResource: "/blob/sto1299/music")
            {
                Resource = new Storage.Models.SignedResource("c"),
                Permissions = new Storage.Models.Permissions("l"),
                SharedAccessExpiryTime = DateTimeOffset.Parse("2017-05-24T11:32:48.8457197Z"),
            };

            await storageAccount.GetServiceSASAsync(parameters);
        }

        [RecordedTest]
        public async Task FailoverAsync()
        {
            // Example: StorageAccountFailover
            var storageAccount = GetArmClient().GetStorageAccount(new ResourceIdentifier("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/res4228/providers/Microsoft.Storage/storageAccounts/sto2434"));

            await storageAccount.FailoverAsync();
        }

        [RecordedTest]
        public async Task RestoreBlobRangesAsync()
        {
            // Example: BlobRangesRestore
            var storageAccount = GetArmClient().GetStorageAccount(new ResourceIdentifier("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/res9101/providers/Microsoft.Storage/storageAccounts/sto4445"));
            Storage.Models.BlobRestoreParameters parameters = new Storage.Models.BlobRestoreParameters(timeToRestore: DateTimeOffset.Parse("2019-04-20T15:30:00.0000000Z"), blobRanges: new List<Storage.Models.BlobRestoreRange>()
{
new Storage.Models.BlobRestoreRange(startRange: "container/blobpath1",endRange: "container/blobpath2"),new Storage.Models.BlobRestoreRange(startRange: "container2/blobpath3",endRange: ""),});

            await storageAccount.RestoreBlobRangesAsync(parameters);
        }

        [RecordedTest]
        public async Task RevokeUserDelegationKeysAsync()
        {
            // Example: StorageAccountRevokeUserDelegationKeys
            var storageAccount = GetArmClient().GetStorageAccount(new ResourceIdentifier("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/res4167/providers/Microsoft.Storage/storageAccounts/sto3539"));

            await storageAccount.RevokeUserDelegationKeysAsync();
        }

        [RecordedTest]
        public async Task GetPrivateLinkResourcesAsync()
        {
            // Example: StorageAccountListPrivateLinkResources
            var storageAccount = GetArmClient().GetStorageAccount(new ResourceIdentifier("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/res6977/providers/Microsoft.Storage/storageAccounts/sto2527"));

            await storageAccount.GetPrivateLinkResourcesAsync();
        }

        [RecordedTest]
        public async Task ManagementPolicyGetAsync()
        {
            // Example: StorageAccountGetManagementPolicies
            var managementPolicy = GetArmClient().GetManagementPolicy(new ResourceIdentifier("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/res6977/providers/Microsoft.Storage/storageAccounts/sto2527/managementPolicies/default"));

            await managementPolicy.GetAsync();
        }

        [RecordedTest]
        public async Task ManagementPolicyDeleteAsync()
        {
            // Example: StorageAccountDeleteManagementPolicies
            var managementPolicy = GetArmClient().GetManagementPolicy(new ResourceIdentifier("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/res6977/providers/Microsoft.Storage/storageAccounts/sto2527/managementPolicies/default"));

            await managementPolicy.DeleteAsync();
        }

        [RecordedTest]
        public async Task BlobServiceGetAsync()
        {
            // Example: GetBlobServices
            var blobService = GetArmClient().GetBlobService(new ResourceIdentifier("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/res4410/providers/Microsoft.Storage/storageAccounts/sto8607/blobServices/default"));

            await blobService.GetAsync();
        }

        [RecordedTest]
        public async Task FileServiceGetAsync()
        {
            // Example: GetFileServices
            var fileService = GetArmClient().GetFileService(new ResourceIdentifier("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/res4410/providers/Microsoft.Storage/storageAccounts/sto8607/fileServices/default"));

            await fileService.GetAsync();
        }

        [RecordedTest]
        public async Task QueueServiceGetAsync()
        {
            // Example: QueueServicesGet
            var queueService = GetArmClient().GetQueueService(new ResourceIdentifier("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/res4410/providers/Microsoft.Storage/storageAccounts/sto8607/queueServices/default"));

            await queueService.GetAsync();
        }

        [RecordedTest]
        public async Task TableServiceGetAsync()
        {
            // Example: TableServicesGet
            var tableService = GetArmClient().GetTableService(new ResourceIdentifier("/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/res4410/providers/Microsoft.Storage/storageAccounts/sto8607/tableServices/default"));

            await tableService.GetAsync();
        }
    }
}
